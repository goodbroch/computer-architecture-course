---
title: 1.7. Выполнение машинных команд
---

# Выполнение машинных команд.

В процессе исполнения команд устройство управления ЭВМ производит анализ и пересылку команд,
отдельных ее частей (кода операции, признака адресации и адреса) или операнда из одного регистра ЭВМ в другой ее регистр, АЛУ, память или устройство ввода-вывода. 
Эти действия (микрооперации) протекают в определенной временной последовательности и скоординированы между собой.
Для обеспесчения такой последовательности в ЭВМ используется генератор тактовых импульсов.

**Цикл команды.** Для реализации одной команды требуется выполнить определенное количество микрокоманд, каждая из которых инициируется одним тактовым импульсом.
Общее число тактовых импульсов, требуемых для выполнения команды, определяет время ее выполнения, называемое *циклом команды*.
Цикл команды обычно включает один или несколько *машинных циклов*. Устройство управления базовой ЭВМ может находиться в четырех возможных состояниях: 
* выборки команды,
* выборки адреса,
* исполнения,
* прерывания.<br/>
Длительность каждого из этих четырех состояний определяет время выполнения соответствующего машинного цикла.

{/* TODO: Основные действия, выполняемые ЭВМ во время каждого из машинных циклов, описаны ниже и проиллюстрированы на рис. 1.4. */}
{/* TODO: Переименовать рисунок 1.4 на этой странице в 1.5 */}

**Выборка команд.** В данном машинном цикле выполняется чтение команды из памяти и ее частичное декодирование.
1.	Содержимое ячейки памяти, на которую указывает счетчик команд, читается из памяти в регистр данных.
2.  Содержимое счетчика команд увеличивается на 1.
3.	Содержимое регистра данных пересылается в регистр команд, код операции команды частично декодируется для выявления типа команды 
(адресная, безадресная или ввода-вывода),
анализируя бит признака адресации и происходит подготовка цепей, необходимых для выполнения команды.

**Безадресные команды и команды ввода-вывода** окончательно исполняются в этом же цикле, т.е. это одноцикловые команды.

4.  Выполняются действия по завершению одноцикловой команды.

**Выборка адреса**. Этот машинный цикл следует за циклом выборки команды *для адресных команд с косвенной адресацией* (бит вида адресации равен 1). 
Цикл используется для чтения из памяти адреса операнда, результата или пе-рехода и состоит из следующих шагов.

1.	Адресная часть команды пересылается из регистра данных, где пока еще сохраняется копия команды, в регистр адреса.
2.	Содержимое ячейки памяти, указываемой регистром адреса, читается в регистр данных. Теперь в этом регистре находится либо адрес операнда, 
либо адрес результата, либо адрес перехода, который будет использоваться в цикле исполнения команды. 
Если косвенно адресуется одна из индексных ячеек (адреса 8...F), то цикл выборки адреса операнда (результата) продолжается.
3.	Содержимое регистра данных увеличивается на единицу.
4.	Измененное содержимое регистра данных пересылается в ячейку памяти по адресу, указанному регистром адреса.
5.	Содержимое регистра данных уменьшается на единицу.

После этой операции в регистре данных восстанавливается значение адреса, находившегося в индексной ячейке до выполнения шага 3.
Содержимое же индексной ячейки увеличилось на 1 и при следующем обращении к ней будет выбран новый адрес операнда (результата).
	
**Исполнение.** Последовательность действий, выполняемых в этом цикле, определяется типом выполняемой адресной команды.
1.	Для команд, при выполнении которых требуется выборка операнда из памяти ЭВМ (*AND*, *ADD*, *ADC*, *SUB*, *ISZ*),
цикл исполнения используется для чтения операнда в регистр данных и выполнения операции, указываемой кодом операции команды.

[comment]: # (// TODO: Пример цикла исполнения команды *ADD 21* приведен на рис. 1.4, д, е, ж, з.)

2.	По команде пересылки (*MOV*) в этом машинном цикле производится запись содержимого аккумулятора в ячейку памяти  с адресом, расположенным в регистре данных. 
Для этого содержимое регистра данных пересылается в регистр адреса, а содержимое аккумулятора - в регистр данных и далее в ячейку памяти, указываемую регистром адреса.
3.	При исполнении команд переходов (*BCS*, *BPL*, *BMI*, *BEQ*) производится проверка соответствующего условия
(1 - в регистре переноса, 0 - в знаковом разряде аккумулятора и т.п.) и пересылка адреса из регистра данных в счетчик команд при выполнении этого условия. 
Иначе будет выбрана команда, расположенная вслед за командой перехода. 
При исполнении команды безусловного перехода (*BR*) пересылка адреса перехода в счетчик команд выполняется без какой-либо проверки.
4.	Для команды обращения к подпрограмме (*JSR*) во время этого машинного цикла осуществляется пересылка содержимого счетчика команд в ячейку памяти,
адрес которой содержится в регистре данных, и занесение в счетчик команд увеличенного на единицу содержимого регистра данных.
